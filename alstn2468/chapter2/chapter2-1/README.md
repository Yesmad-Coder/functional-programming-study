# 2.1 객체와 대괄호 다시 보기

### 2.1.1 난해해 보이는 문법들을 확인하는 목적

실제 자바스크립트 라이브러리 혹은 프레임워크에서 난해한 문법들이 사용되는 경우가 많다.

주로 아래와 같은 목적을 가지고 사용한다.

1. 더 짧은 코드를 위해
2. 추상화의 다양한 기법ß
3. if를 없애기 위해
4. 특별한 로직을 위해
5. 캐시를 위해
6. 은닉을 위해
7. 함수를 선언하고 참조하기 위해
8. 컨텍스트를 이어주기 위해

다양한 라이브러리, 프레임워크의 코드와 테스트 케이스를 살펴보는 것이 코딩 실력에 도움이 될 것이다.

문법에 따를 세밀한 기능 차이를 이해하고 알고 있다면 아래와 같은 일이 가능 할 것이다.

> 아무 곳에서나 함수 열기, 함수 실행을 원하는 시점으로 미뤄서 실행하기.

### 2.1.2 객체와 key

- 코드 2-1 다양한 key/value 정의 방법

```javascript
var obj = { a: 1, "b": 2 };
obj.c = 3;
obj['d'] = 4;
var e = 'e';
obj[e] = 5;
function f() { return 'f'; }
obj[f()] = 6;
console.log(obj);
// { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 ß}
```

객체의 key와 value는 `{}`, `.`, `[]` 등을 통해 설정할 수 있다.

그 중 어떤 문자열이든 key로 정의할 수 있는 곳은 `"b"`와 `[]` 같은 곳이다.

이 두 가지 방식은 띄어쓰기, 특수문자, 숫자 등을 가리지 않고 어떤 문자열이든 key로 만들 수 있다.

- 코드 2-2 띄어쓰기, 특수 문자, 숫자

```javascript
var obj2 = { ' a a a ': 1 };
obj2[' b b b '] = 2;
console.log(obj2);
// { ' a a a ': 1, ' b b b ': 2 }

var obj3 = { 'margin-top': 5 };
obj3['padding-bottom'] = 20;
console.log(obj3);
// { 'margin-top': 5, 'padding-bottom': 20 }
var obj4 = { 1: 10 };
obj4[2] = 20;
console.log(obj4);
// { '1': 10, '2': 20 }
```

`{}` 안쪽에서 key를 선언하는 것과 `[]`안에서 선언하는 것은 차이가 존재한다.

`{}`의 문자열 부분에서는 코드를 실행할 수 없고 `[]`의 안쪽에서는 코드를 실행할 수 있다.

- 코드 2-3 코드가 실행되지 않는 key 영역

```javascript
var obj5 = { (true ? "a" : "b" : 1 ) };
// SyntaxError: Unexpected token '('
```

`{}` 안쪽의 key 영역에서는 위와 같이 코드를 실행할 수 없다.

- 코드 2-4 코드가 실행되는 key 영역

```javascript
var obj6 = {};
obj6[true ? 'a' : 'b'] = 1;
console.log(obj6); // { a: 1 }
```

`[]` 사이에는 문자열이 담긴 변수도 넣을 수 있으며, 연산자도 사용할 수 있으며 함수도 실행할 수 있다.

- 코드 2-5 ES6에서 동작하는 `{}` 안쪽에 대괄호 사용하기

```javascript
var obj5 = { [true ? 'a' : 'b']: 1 };
console.log(obj5); // { a: 1 }
```

ES6의 경우 위의 코드와 같이 `{}` 안쪽에도 대괄호를 사용해 작성이 가능하다.

### 2.1.3 함수나 배열에 달기

<sub id="2021-03-17"><sup>-- 2021-03-17 --</sup></sub>

[[이전으로]](../../chapter1/chapter1-4/README.md) / [[목록으로]](../README.md) / [[다음으로]](../chapter2-2/README.md)
