
<script>
const testObj = {
  testValue: "testValue",
  testFunc(param) {
    console.log(param, this);
  },
  testArrowFunc: () => {
    // 화살표 함수에서 this는 자신을 감싼 정적 범위lexical context입니다.
    // 전역 코드에서는 전역 객체를 가리킵니다.
    console.log("arrow");
    console.log(this);
  }
};

// case 1
testObj.testFunc("case1");
// testObj

// case 2
const test = testObj;
test.testFunc("case2");
// testObj

// case 3
const testFunc = test.testFunc;
testFunc("case3");
//

// case 4
document.querySelector("#button").addEventListener("click", testObj.testFunc);
// Click Mouse Event 출력
//내부 함수의 this는 정해지지 않았으므로 전역/window 객체를 반환합니다. 즉 비엄격 모드에서 this를 설정하지 않은 경우의 기본값입니다.

// case 5
window.addEventListener("DOMContentLoaded", testObj.testFunc);

// case 6
window.addEventListener("DOMContentLoaded", testObj.testFunc.bind(testObj));
// 새 함수의 this는 호출 방식과 상관없이 영구적으로bind()의 첫 번째 매개변수로 고정됩니다.

// case 7
document
  .querySelector("#button")
  .addEventListener("click", testObj.testArrowFunc);

//https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/this

</script>