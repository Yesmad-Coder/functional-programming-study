<script src="lib/fx.js"></script>
<style>
  body {
    background-color: gray;
  }
</style>
<body>
  live-server
  <div id="cart"></div>
  <script>
    // const delay500 = a => a;
    const delay1000 = (a, name) =>
      new Promise(resolve => {
        log(`${name}: ${a}`);
        setTimeout(() => resolve(a), 1000);
      });

    console.time("");
    go(
      [1, 2, 3, 4, 5, 6, 7, 8],
      L.map(a => delay1000(a * a, "map1")),
      C.filter(a => delay1000(a % 2, "filter2")),
      L.map(a => delay1000(a + 1, "map3")),
      take(2),
      // C.reduce(add),
      log,
      _ => console.timeEnd("")
    );
  </script>
</body>
